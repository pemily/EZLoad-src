{
  "broker" : "BourseDirect",
  "brokerFileVersion" : 1,
  "script" : "// Liste de fonctions utilisables dans toutes les expressions de BourseDirect v1\n\n// cette fonction va utiliser la variable: ezAccountType pour déterminer si il s'agit d'un compte CTO/PEA/PEA-PME/Assurance-Vie\nvar ezAccountTypeName = () -> { \n\tif (ezAccountType == \"Ordinaire\") return \"Compte-Titres Ordinaire\";\n\tif (ezAccountType == \"PEA\") return \"PEA\";\n\t// TODO faire PEA-PME & Assurance-Vie\n\treturn \"\"; \n}\n\n// cette fonction va utiliser la variable ezShareType pour déterminer le type de la valeur\nvar ezShareTypeName = () -> {\n\tif (ezShareType == \"stock\") return \"Action\";\n       // TODO ajouter les autres valeurs possible\n       return ezShareType;\n}\n\n// retourne ezShareTypeName() si la valeur dans MonPortefeuille.Type est vide, sinon retourne MonPortefeuille.Type\nvar computePortefeuilleType = () -> {\n  if (ezMonPortefeuilleType == \"\") return ezShareTypeName();\n  return ezMonPortefeuilleType;\n}\n\nvar computePRU = () -> {\n\tif (ezMonPortefeuillePrixRevientUnitaire == \"\") return ezPRU;\n        return ezMonPortefeuillePrixRevientUnitaire;\n}"
}